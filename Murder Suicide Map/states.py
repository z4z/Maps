murders = {
    'Alabama':336,
	'Alaska':29,
	'Arizona':339,
	'Arkansas':153,
	'California':1790,
	'Colorado':147,
	'Connecticut':128,
	'Delaware':41,
    'Florida':1007,
	'Georgia':522,
	'Hawaii':7,
	'Idaho':32,
	'Illinois':452,
	'Indiana':284,
	'Iowa':44,
	'Kansas':110,
	'Kentucky':150,
	'Louisiana':485,
	'Maine':25,
	'Maryland':398,
	'Massachusetts':183,
	'Michigan':613,
	'Minnesota':70,
	'Mississippi':187,
	'Missouri':364,
	'Montana':18,
	'Nebraska':65,
	'Nevada':129,
	'New Hampshire':16,
	'New Jersey':379,
	'New Mexico':121,
	'New York':774,
	'North Carolina':489,
	'North Dakota':12,
	'Ohio':488,
	'Oklahoma':204,
	'Oregon':77,
	'Pennsylvania':636,
	'Rhode Island':14,
	'South Carolina':319,
	'South Dakota':15,
	'Tennessee':373,
	'Texas':1089,
	'Utah':51,
	'Vermont':8,
	'Virginia':303,
	'Washington':161,
	'West Virginia':74,
	'Wisconsin':135,
	'Wyoming':15}	
suicides = {
	'Montana': 243,
	'Alaska': 171,
	'Wyoming': 129,
	'New Mexico': 431,
	'Utah': 579,
	'Nevada': 541,
	'Colorado': 1007,
	'Idaho': 308,
	'Maine': 245,
	'Vermont': 112,
	'Oregon': 698,
	'North Dakota': 128,
	'Arizona': 1163,
	'Arkansas': 516,
	'South Dakota': 147,
	'West Virginia': 323,
	'Oklahoma': 665,
	'Kentucky': 701,
	'Missouri': 960,
	'Tennessee': 1030,
	'Florida': 2928,
	'Alabama': 721,
	'Wisconsin': 850,
	'Kansas': 425,
	'Washington': 1027,
	'South Carolina': 696,
	'Iowa': 447,
	'Indiana': 944,
	'New Hampshire': 185,
	'Pennsylvania': 1788,
	'Delaware': 122,
	'Ohio': 1526,
	'Michigan': 1295,
	'Mississippi': 388,
	'North Carolina': 1284,
	'Virginia': 1072,
	'Louisiana': 583,
	'Rhode Island': 132,
	'Minnesota': 678,
	'Hawaii': 171,
	'Georgia': 1212,
	'Nebraska': 220,
	'Texas': 3059,
	'California': 4025,
	'Illinois': 1321,
	'Maryland': 569,
	'Connecticut': 330,
	'New York': 1687,
	'Massachusetts': 572,
	'New Jersey': 757}
ratio = {
    'Alabama': 2.15,
    'Florida': 2.91,
	'Mississippi': 2.07,
	'Oklahoma': 3.26,
	'Delaware': 2.98,
	'Minnesota': 9.69,
	'Illinois': 2.92,
	'Arkansas': 3.37,
	'New Mexico': 3.56,
	'Ohio': 3.13,
	'Indiana': 3.32,
	'Maryland': 1.43,
	'Louisiana': 1.2,
	'Texas': 2.81,
	'Wyoming': 8.6,
	'Tennessee': 2.76,
	'Arizona': 3.43,
	'Wisconsin': 6.3,
	'Michigan': 2.11,
	'Kansas': 3.86,
	'Utah': 11.35,
	'Virginia': 3.54,
	'Oregon': 9.06,
	'Connecticut': 2.58,
	'Montana': 13.5,
	'California': 2.25,
	'Idaho': 9.63,
	'West Virginia': 4.36,
	'South Carolina': 2.18,
	'New Hampshire': 11.56,
	'Massachusetts': 3.13,
	'Vermont': 14.0,
	'Georgia': 2.32,
	'North Dakota': 10.67,
	'Pennsylvania': 2.81,
	'Alaska': 5.9,
	'Kentucky': 4.67,
	'Hawaii': 24.43,
	'Nebraska': 3.38,
	'Missouri': 2.64,
	'Iowa': 10.16,
	'Rhode Island': 9.43,
	'South Dakota': 9.8,
	'Colorado': 6.85,
	'New Jersey': 2.0,
	'Washington': 6.38,
	'North Carolina': 2.63,
	'New York': 2.18,
	'Nevada': 4.19,
	'Maine': 9.8}
population = {
	'California': 37253956,
	'Texas': 25145561,
	'New York': 19378102,
	'Florida': 18801310,
	'Illinois': 12830632,
	'Pennsylvania': 12702379,
	'Ohio': 11536504,
	'Michigan': 9883640,
	'Georgia': 9687653,
	'North Carolina': 9535483,
	'New Jersey': 8791894,
	'Virginia': 8001024,
	'Washington': 6724540,
	'Massachusetts': 6547629,
	'Indiana': 6483802,
	'Arizona': 6392017,
	'Tennessee': 6346105,
	'Missouri': 5988927,
	'Maryland': 5773552,
	'Wisconsin': 5686986,
	'Minnesota': 5303925,
	'Colorado': 5029196,
	'Alabama': 4779736,
	'South Carolina': 4625364,
	'Louisiana': 4533372,
	'Kentucky': 4339367,
	'Oregon': 3831074,
	'Oklahoma': 3751351,
	'Connecticut': 3574097,
	'Iowa': 3046355,
	'Mississippi': 2967297,
	'Arkansas': 2915918,
	'Kansas': 2853118,
	'Utah': 2763885,
	'Nevada': 2700551,
	'New Mexico': 2059179,
	'West Virginia': 1852994,
	'Nebraska': 1826341,
	'Idaho': 1567582,
	'Hawaii': 1360301,
	'Maine': 1328361,
	'New Hampshire': 1316470,
	'Rhode Island': 1052567,
	'Montana': 989415,
	'Delaware': 897934,
	'South Dakota': 814180,
	'Alaska': 710231,
	'North Dakota': 672591,
	'Vermont': 625741,
	'Wyoming': 563626}
total = {
    'Alabama': 1057,
    'Florida': 3935,
	'Mississippi': 575,
	'Oklahoma': 869,
	'Delaware': 163,
	'Minnesota': 748,
	'Illinois': 1773,
	'Arkansas': 669,
	'New Mexico': 552,
	'Ohio': 2014,
	'Indiana': 1228,
	'Maryland': 967,
	'Louisiana': 1068,
	'Texas': 4148,
	'Wyoming': 144,
	'Tennessee': 1403,
	'Arizona': 1502,
	'Wisconsin': 985,
	'Michigan': 1908,
	'Kansas': 535,
	'Utah': 630,
	'Virginia': 1375,
	'Oregon': 775,
	'Connecticut': 458,
	'Montana': 261,
	'California': 5815,
	'Idaho': 340,
	'West Virginia': 397,
	'South Carolina': 1015,
	'New Hampshire': 201,
	'Massachusetts': 755,
	'Vermont': 120,
	'Georgia': 1734,
	'North Dakota': 140,
	'Pennsylvania': 2424,
	'Alaska': 200,
	'Kentucky': 851,
	'Hawaii': 178,
	'Nebraska': 285,
	'Missouri': 1324,
	'Iowa': 491,
	'Rhode Island': 146,
	'South Dakota': 162,
	'Colorado': 1154,
	'New Jersey': 1136,
	'Washington': 1188,
	'North Carolina': 1773,
	'New York': 2461,
	'Nevada': 670,
	'Maine': 270}	
death_rate = {
    'Alabama': 22.11,
    'Florida': 20.93,
	'Mississippi': 19.38,
	'Oklahoma': 23.16,
	'Wyoming': 25.55,
	'Minnesota': 14.1,
	'Illinois': 13.82,
	'Georgia': 17.9,
	'Arkansas': 22.94,
	'New Mexico': 26.81,
	'Ohio': 17.46,
	'Indiana': 18.94,
	'Maryland': 16.75,
	'Louisiana': 23.56,
	'Texas': 16.5,
	'Tennessee': 22.11,
	'Arizona': 23.5,
	'Wisconsin': 17.32,
	'Michigan': 19.3,
	'Kansas': 18.75,
	'Utah': 22.79,
	'Virginia': 17.19,
	'Oregon': 20.23,
	'Connecticut': 12.81,
	'Montana': 26.38,
	'California': 15.61,
	'Idaho': 21.69,
	'West Virginia': 21.42,
	'South Carolina': 21.94,
	'New Hampshire': 15.27,
	'Massachusetts': 11.53,
	'Vermont': 19.18,
	'Delaware': 18.15,
	'North Dakota': 20.82,
	'Pennsylvania': 19.08,
	'Alaska': 28.16,
	'Kentucky': 19.61,
	'Hawaii': 13.09,
	'Nebraska': 15.6,
	'Missouri': 22.11,
	'Iowa': 16.12,
	'Rhode Island': 13.87,
	'South Dakota': 19.9,
	'Colorado': 22.95,
	'New Jersey': 12.92,
	'Washington': 17.67,
	'North Carolina': 18.59,
	'New York': 12.7,
	'Nevada': 24.81,
	'Maine': 20.33}
murder_rate = { 
    'Mississippi': 6.3,
    'Oklahoma': 5.44,
    'Delaware': 4.57,
    'Minnesota': 1.32,
    'Illinois': 3.52,
    'Arkansas': 5.25,
    'New Mexico': 5.88,
    'Ohio': 4.23,
    'Indiana': 4.38,
    'Maryland': 6.89,
    'Louisiana': 10.7,
    'Texas': 4.33,
    'Wyoming': 2.66,
    'Tennessee': 5.88,
    'Arizona': 5.3,
    'Wisconsin': 2.37,
    'Michigan': 6.2,
    'Kansas': 3.86,
    'Utah': 1.85,
    'Virginia': 3.79,
    'Oregon': 2.01,
    'Connecticut': 3.58,
    'Montana': 1.82,
    'California': 4.8,
    'Idaho': 2.04,
    'West Virginia': 3.99,
    'South Carolina': 6.9,
    'New Hampshire': 1.22,
    'Massachusetts': 2.79,
    'Vermont': 1.28,
    'Georgia': 5.39,
    'North Dakota': 1.78,
    'Pennsylvania': 5.01,
    'Florida': 5.36,
    'Alaska': 4.08,
    'Kentucky': 3.46,
    'Hawaii': 0.51,
    'Nebraska': 3.56,
    'Missouri': 6.08,
    'Iowa': 1.44,
    'Alabama': 7.03,
    'Rhode Island': 1.33,
    'South Dakota': 1.84,
    'Colorado': 2.92,
    'New Jersey': 4.31,
    'Washington': 2.39,
    'North Carolina': 5.13,
    'New York': 3.99,
    'Nevada': 4.78,
    'Maine': 1.88}
suicide_rate = {
    'Wisconsin': 14.95,
    'Mississippi': 13.08,
    'Oklahoma': 17.73,
    'Delaware': 13.59,
    'Minnesota': 12.78,
    'Illinois': 10.3,
    'Arkansas': 17.7,
    'New Mexico': 20.93,
    'Indiana': 14.56,
    'Maryland': 9.86,
    'Louisiana': 12.86,
    'Texas': 12.17,
    'Wyoming': 22.89,
    'Tennessee': 16.23,
    'Arizona': 18.19,
    'Iowa': 14.67,
    'Michigan': 13.1,
    'Kansas': 14.9,
    'Utah': 20.95,
    'Virginia': 13.4,
    'Oregon': 18.22,
    'Connecticut': 9.23,
    'Montana': 24.56,
    'California': 10.8,
    'Idaho': 19.65,
    'West Virginia': 17.43,
    'South Carolina': 15.05,
    'New Hampshire': 14.05,
    'Massachusetts': 8.74,
    'Vermont': 17.9,
    'Georgia': 12.51,
    'North Dakota': 19.03,
    'Pennsylvania': 14.08,
    'Florida': 15.57,
    'Alaska': 24.08,
    'Kentucky': 16.15,
    'Hawaii': 12.57,
    'Nebraska': 12.05,
    'Missouri': 16.03,
    'Ohio': 13.23,
    'Alabama': 15.08,
    'Rhode Island': 12.54,
    'South Dakota': 18.05,
    'Colorado': 20.02,
    'New Jersey': 8.61,
    'Washington': 15.27,
    'North Carolina': 13.47,
    'New York': 8.71,
    'Nevada': 20.03,
    'Maine': 18.44}
states = {
    'AK': 'Alaska',
    'AL': 'Alabama',
    'AR': 'Arkansas',
    'AZ': 'Arizona',
    'CA': 'California',
    'CO': 'Colorado',
    'CT': 'Connecticut',
    'DE': 'Delaware',
    'FL': 'Florida',
    'GA': 'Georgia',
    'HI': 'Hawaii',
    'IA': 'Iowa',
    'ID': 'Idaho',
    'IL': 'Illinois',
    'IN': 'Indiana',
    'KS': 'Kansas',
    'KY': 'Kentucky',
    'LA': 'Louisiana',
    'MA': 'Massachusetts',
    'DC': 'Maryland',
    'MD': 'Maryland',
    'ME': 'Maine',
    'SP-': 'Michigan',
    'MI-': 'Michigan',
    'MN': 'Minnesota',
    'MO': 'Missouri',
    'MS': 'Mississippi',
    'MT': 'Montana',
    'NC': 'North Carolina',
    'ND': 'North Dakota',
    'NE': 'Nebraska',
    'NH': 'New Hampshire',
    'NJ': 'New Jersey',
    'NM': 'New Mexico',
    'NV': 'Nevada',
    'NY': 'New York',
    'OH': 'Ohio',
    'OK': 'Oklahoma',
    'OR': 'Oregon',
    'PA': 'Pennsylvania',
    'PR': 'Puerto Rico',
    'RI': 'Rhode Island',
    'SC': 'South Carolina',
    'SD': 'South Dakota',
    'TN': 'Tennessee',
    'TX': 'Texas',
    'UT': 'Utah',
    'VA': 'Virginia',
    'VT': 'Vermont',
    'WA': 'Washington',
    'WI': 'Wisconsin',
    'WV': 'West Virginia',
    'WY': 'Wyoming'}


def pretty(a):
	print("{" + ",\n".join("'{}': {}".format(k,v) for k,v in a.items()) + "}")


murder_rate = {}
for tk, tv in murders.items():
	for pk, pv in population.items():
		if tk == pk:
			rate = tv / float(pv) * 100000
			murder_rate[tk] = round(rate, 2)




from BeautifulSoup import BeautifulSoup
import os, sys

svg = open('blank-us-map.svg', 'r').read()
soup = BeautifulSoup(svg, selfClosingTags=['defs'])
paths = soup.findAll('path')

path_style = 'stroke:#000000;stroke-opacity:1;stroke-width:0.75;stroke-miterlimit:4;stroke-dasharray:none;fill:'

for path in paths: 
    if path['id'] not in ["State_Lines", "separator"]:
        if path['id'] in states: 
            state = states[path['id']]
        else:  
            continue
    
        rate = death_rate[state]
        murder = murder_rate[state]
        suicide = suicide_rate[state]
    
        rgb = (255-murder*8, 255-suicide*8, 255-rate*8)
	
    	color = '#%02x%02x%02x' % rgb
    
    	path['style'] = path_style + color

blank = open('blank-us-map.svg','r')
header = blank.readlines()[0:43]
blank.close()

new = open('new.svg', 'w')
new.write(soup.prettify())
new.close
new = open('new.svg','r')
body = new.readlines()[16:-1]
new.close
os.remove('new.svg')

os.remove('murder-suicide.svg')
f = open('murder-suicide.svg','w+')
f.writelines(header)
f.writelines(body)
f.close();